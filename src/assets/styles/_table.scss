@import 'variables';
@import 'mixins';

// Common table styles
@mixin table-base {
  width: $percent-100 !important;

  .table-content {
    table {
      display: block;
      overflow-x: auto;
      white-space: nowrap;
      width: 60vw;
    }

    td,
    th {
      text-align: left;
      white-space: nowrap;
      font-family: "STC_Forward" !important;
      font-size: $font-size-xs !important;

      .text-truncated {
        @include truncated-text;
      }

      >img {
        border-radius: $percent-50 !important;
        width: 32px;
        height: 32px;
      }
    }

    tr {
      td {
        @include text-style($font-size-xs, $font-default, $text-dark);
        font-family: "STC_Forward" !important;

        &.mat-column-PROG-NAME>div {
          display: inline-block;
          padding: 5px 10px;
          background: rgba($dark-gray, 0.1);
        }
      }
    }

    tr.mat-mdc-header-row.mdc-data-table__header-row.cdk-header-row {
      background-color: $white3 !important;
      border-bottom: 2px solid $white !important;
      line-height: 40px;
    }

    .mat-sort-header-content {
      @include text-style($font-size-xs, $font-normal, $dark-gray);
      font-family: "STC_Forward" !important;
    }

    .mat-mdc-header-cell.mat-sort-header-container {
      padding: 0 !important;
    }
  }
}

// Common header cell styles
@mixin header-cell-base {
  @include text-style($font-size-xs, $font-normal, $dark-gray);

  &:first-of-type {
    border-top-left-radius: $font-size-xs !important;
    border-bottom-left-radius: $font-size-xs !important;
  }

  &:last-of-type {
    border-top-right-radius: $font-size-xs !important;
    border-bottom-right-radius: $font-size-xs !important;
  }
}

// Common cell styles
@mixin cell-base {
  border-bottom: 1px solid $white3 !important;
}

// Common chip styles
@mixin chip-base {
  border-radius: $border-radius-sm;
  background: rgba($dark-gray, 0.1);
  width: auto;
  padding: $spacing-xs $spacing-sm;
  @include text-style($font-size-xs, $font-normal, $text-dark);
}

// Main table component
lib-muk-table {
  .table {
    @include table-base;
  }

  .mat-mdc-header-cell {
    @include header-cell-base;
  }

  .mat-mdc-cell {
    @include cell-base;
  }

  .gray-chip {
    @include chip-base;
  }

  .mdc-data-table__content {
    button {
      &:hover {
        background: transparent !important;
      }

      .mat-mdc-button-persistent-ripple {
        &::before {
          background: transparent !important;
        }
      }

      mat-icon {
        transform: rotate(90deg);
        color: $text-dark !important;
        font-size: $font-size-xl;
      }
    }
  }
}

// Employee table variant
lib-muk-table.emplyoee-table {
  .table {
    .table-content {

      td,
      th {
        min-width: 100px !important;
      }
    }
  }
}

// Tasks table variant
lib-muk-table.tasks-table {
  .table {
    @include table-base;

    .table-content {

      td,
      th {
        min-width: 250px !important;
      }
    }
  }

  .mat-mdc-header-cell {
    @include header-cell-base;
  }

  .mat-mdc-cell {
    @include cell-base;
  }

  .gray-chip {
    @include chip-base;
  }

  .mdc-data-table__content {
    button {
      &:hover {
        background: transparent !important;
      }

      .mat-mdc-button-persistent-ripple {
        &::before {
          background: transparent !important;
        }
      }

      mat-icon {
        transform: rotate(90deg);
        color: $text-dark !important;
        font-size: $font-size-xl;
      }
    }
  }
}

// Menu content styles
.mat-mdc-menu-content {
  lib-muk-list-looping {
    >div {
      @include flex-start;
      flex-direction: column !important;
      border-radius: $border-radius-md !important;
      border: 1px solid $white3 !important;
      background: $white !important;
      box-shadow: 0px 4px 8px 0px rgba($text-dark, 0.08) !important;
      min-width: 164px !important;
      padding: $spacing-sm !important;
      gap: $spacing-sm !important;
    }

    lib-muk-button {
      cursor: pointer;
      padding: 4px 0;

      &:hover {
        background: $white3;
        border-radius: $border-radius-sm;
      }

      button {
        @include flex-start;
        gap: 4px;

        .d-flex {
          @include flex-start;

          .stc-text_btn {
            @include text-style($font-size-xs, $font-default, $color-darkgray);
          }
        }
      }

      .view-icon,
      .edit-icon,
      .deactivate-icon {
        mat-icon {
          display: none !important;
        }

        &::before {
          content: url("../icons/View.svg") !important;
          width: $font-size-xl;
          height: $font-size-xl;
        }
      }

      .edit-icon::before {
        content: url("../icons/Edit.svg") !important;
      }

      .deactivate-icon::before {
        content: url("../icons/Deactivate.svg") !important;
      }
    }
  }
}

// Responsive styles
@media (max-width: 768px) {
  lib-muk-accordion {
    mat-accordion {
      mat-expansion-panel {
        mat-expansion-panel-header {
          .mat-content {
            mat-panel-title {
              .title_accordion {
                font-size: $font-size-sm;
              }
            }
          }
        }

        .mat-expansion-panel-content {
          .mat-expansion-panel-body {
            lib-muk-view {
              .main-card {
                .row {
                  lib-muk-list-looping {
                    width: $percent-100;

                    lib-muk-view-item {
                      padding: 0 !important;

                      .label {

                        .label-title,
                        .label-value,
                        .mat-mdc-tooltip-trigger {
                          font-size: $font-size-xs !important;
                        }

                        img {
                          width: 32px;
                          border-radius: $percent-50;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

// Specific column width
td.mat-mdc-cell.mdc-data-table__cell.cdk-cell.cdk-column-OBJ-NAME.mat-column-OBJ-NAME {
  min-width: 170px;
}
